import{r as t,j as o,a as z}from"./index-H10ZcnkT.js";import{_ as d,h as b,s as p,g as R,V as v,i as S,A as U,z as P,y as F,x as D}from"./Logo-5P6BDK6U.js";function _(a){return function(e){a.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}let m,f;const N=t.createContext(null),M=new R,A=new v,T=t.forwardRef(({children:a,range:e,limit:n=1e3,...c},i)=>{const r=t.useRef(null),[s,u]=t.useState([]),[[l,h,g]]=t.useState(()=>[new Float32Array(n*3),Float32Array.from({length:n*3},()=>1),Float32Array.from({length:n},()=>1)]);t.useEffect(()=>{r.current.geometry.attributes.position.needsUpdate=!0}),b(()=>{for(r.current.updateMatrix(),r.current.updateMatrixWorld(),M.copy(r.current.matrixWorld).invert(),r.current.geometry.drawRange.count=Math.min(n,e!==void 0?e:n,s.length),m=0;m<s.length;m++)f=s[m].current,f.getWorldPosition(A).applyMatrix4(M),A.toArray(l,m*3),r.current.geometry.attributes.position.needsUpdate=!0,f.matrixWorldNeedsUpdate=!0,f.color.toArray(h,m*3),r.current.geometry.attributes.color.needsUpdate=!0,g.set([f.size],m),r.current.geometry.attributes.size.needsUpdate=!0});const w=t.useMemo(()=>({getParent:()=>r,subscribe:x=>(u(y=>[...y,x]),()=>u(y=>y.filter(j=>j.current!==x.current)))}),[]);return t.createElement("points",d({userData:{instances:s},matrixAutoUpdate:!1,ref:_([i,r]),raycast:()=>null},c),t.createElement("bufferGeometry",null,t.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:p}),t.createElement("bufferAttribute",{attach:"attributes-color",count:h.length/3,array:h,itemSize:3,usage:p}),t.createElement("bufferAttribute",{attach:"attributes-size",count:g.length,array:g,itemSize:1,usage:p})),t.createElement(N.Provider,{value:w},a))}),W=t.forwardRef(({children:a,positions:e,colors:n,sizes:c,stride:i=3,...r},s)=>{const u=t.useRef(null);return b(()=>{const l=u.current.geometry.attributes;l.position.needsUpdate=!0,n&&(l.color.needsUpdate=!0),c&&(l.size.needsUpdate=!0)}),t.createElement("points",d({ref:_([s,u])},r),t.createElement("bufferGeometry",null,t.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/i,array:e,itemSize:i,usage:p}),n&&t.createElement("bufferAttribute",{attach:"attributes-color",count:n.length/i,array:n,itemSize:3,usage:p}),c&&t.createElement("bufferAttribute",{attach:"attributes-size",count:c.length/i,array:c,itemSize:1,usage:p})),a)}),k=t.forwardRef((a,e)=>a.positions instanceof Float32Array?t.createElement(W,d({},a,{ref:e})):t.createElement(T,d({},a,{ref:e}))),$=({count:a})=>{const e=t.useRef(null),n=t.useMemo(()=>{const i=new Float32Array(a*3);for(let r=0;r<a;r++){const s=Math.random()*20-10,u=Math.random()*20-10,l=Math.random()*20-10;i.set([s,u,l],r*3)}return i},[a]),c=S(P,"particle.png");return b(i=>{const{clock:r}=i;for(let s=0;s<a;s++){const u=s*3;e.current.geometry.attributes.position.array[u]+=Math.sin(r.elapsedTime+Math.random()*1)*.001,e.current.geometry.attributes.position.array[u+1]+=Math.cos(r.elapsedTime+Math.random()*1)*.001,e.current.geometry.attributes.position.array[u+2]+=Math.sin(r.elapsedTime+Math.random()*1)*.001}e.current.geometry.attributes.position.needsUpdate=!0}),o.jsx(k,{ref:e,positions:n,children:o.jsx("pointsMaterial",{size:.1,color:8482047,map:c,blending:U,transparent:!0,alphaMap:c,alphaTest:.001})})},B="_start_176g9_1",C="_start__text_176g9_8",E={start:B,start__text:C},G={},L=({label:a,onClick:e})=>o.jsx("button",{className:`${G.button} text-white px-6 py-3 mt-4 border-solid border-round-lg hover:border-primary active:text-primary`,onClick:e,children:a}),V=()=>{const a=z(),e=()=>{a("/all")};return o.jsxs("div",{className:`${E.start} flex flex-column align-items-center`,children:[o.jsx(F,{size:"medium"}),o.jsx("p",{className:`${E.start__text} text-sm my-2`,children:"Get to know all the chemical elements from a new perspective with this interactive 3D application. We break the rigid structure of the periodic table to present the important properties in new ways using the 3D space."}),o.jsx(L,{label:"Start",onClick:e})]})},q=()=>o.jsxs(o.Fragment,{children:[o.jsx(D,{style:{position:"absolute"},children:o.jsx($,{count:1e3})}),o.jsx(V,{})]});export{q as default};
