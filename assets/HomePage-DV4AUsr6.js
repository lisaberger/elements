import{r as e,j as n,a as R,b as U}from"./index-vf0Jrdqk.js";import{_ as f,j as b,a8 as p,i as N,V as P,E as z,ah as F,ai as L,aj as I,ak as T,ad as M,ae as k,af as B,ag as C,ac as S}from"./Icon-Cb-y5IJz.js";let d,m;const V=e.createContext(null),v=new N,j=new P,W=e.forwardRef(({children:a,range:t,limit:s=1e3,...c},u)=>{const r=e.useRef(null);e.useImperativeHandle(u,()=>r.current,[]);const[o,i]=e.useState([]),[[l,x,h]]=e.useState(()=>[new Float32Array(s*3),Float32Array.from({length:s*3},()=>1),Float32Array.from({length:s},()=>1)]);e.useEffect(()=>{r.current.geometry.attributes.position.needsUpdate=!0}),b(()=>{for(r.current.updateMatrix(),r.current.updateMatrixWorld(),v.copy(r.current.matrixWorld).invert(),r.current.geometry.drawRange.count=Math.min(s,t!==void 0?t:s,o.length),d=0;d<o.length;d++)m=o[d].current,m.getWorldPosition(j).applyMatrix4(v),j.toArray(l,d*3),r.current.geometry.attributes.position.needsUpdate=!0,m.matrixWorldNeedsUpdate=!0,m.color.toArray(x,d*3),r.current.geometry.attributes.color.needsUpdate=!0,h.set([m.size],d),r.current.geometry.attributes.size.needsUpdate=!0});const w=e.useMemo(()=>({getParent:()=>r,subscribe:y=>(i(g=>[...g,y]),()=>i(g=>g.filter(A=>A.current!==y.current)))}),[]);return e.createElement("points",f({userData:{instances:o},matrixAutoUpdate:!1,ref:r,raycast:()=>null},c),e.createElement("bufferGeometry",null,e.createElement("bufferAttribute",{attach:"attributes-position",args:[l,3],usage:p}),e.createElement("bufferAttribute",{attach:"attributes-color",args:[x,3],usage:p}),e.createElement("bufferAttribute",{attach:"attributes-size",args:[h,1],usage:p})),e.createElement(V.Provider,{value:w},a))}),D=e.forwardRef(({children:a,positions:t,colors:s,sizes:c,stride:u=3,...r},o)=>{const i=e.useRef(null);return e.useImperativeHandle(o,()=>i.current,[]),b(()=>{const l=i.current.geometry.attributes;l.position.needsUpdate=!0,s&&(l.color.needsUpdate=!0),c&&(l.size.needsUpdate=!0)}),e.createElement("points",f({ref:i},r),e.createElement("bufferGeometry",null,e.createElement("bufferAttribute",{attach:"attributes-position",args:[t,u],usage:p}),s&&e.createElement("bufferAttribute",{attach:"attributes-color",args:[s,u],count:s.length/u,usage:p}),c&&e.createElement("bufferAttribute",{attach:"attributes-size",args:[c,1],count:c.length/u,usage:p})),a)}),H=e.forwardRef((a,t)=>a.positions instanceof Float32Array?e.createElement(D,f({},a,{ref:t})):e.createElement(W,f({},a,{ref:t}))),G=({count:a})=>{const t=e.useRef(null),s=e.useMemo(()=>{const u=new Float32Array(a*3);for(let r=0;r<a;r++){const o=Math.random()*20-10,i=Math.random()*20-10,l=Math.random()*20-10;u.set([o,i,l],r*3)}return u},[a]),c=z(L,"particle.png");return b(u=>{if(!t.current)return;const{clock:r}=u;for(let o=0;o<a;o++){const i=o*3;t.current.geometry.attributes.position.array[i]+=Math.sin(r.elapsedTime+Math.random()*1)*.001,t.current.geometry.attributes.position.array[i+1]+=Math.cos(r.elapsedTime+Math.random()*1)*.001,t.current.geometry.attributes.position.array[i+2]+=Math.sin(r.elapsedTime+Math.random()*1)*.001}t.current.geometry.attributes.position.needsUpdate=!0}),n.jsx(H,{ref:t,positions:s,children:n.jsx("pointsMaterial",{size:.1,color:8482047,map:c,blending:F,transparent:!0,alphaMap:c,alphaTest:.001})})},_=T("bg-transparent border border-white rounded-lg text-white transition-all duration-500 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{primary:"hover:border-primary active:text-primary hover:cursor-hand"},size:{sm:"px-3 py-1.5 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"}},defaultVariants:{variant:"primary",size:"md"}}),E=e.forwardRef(({className:a,variant:t,size:s,isLoading:c,disabled:u,children:r,...o},i)=>n.jsx("button",{ref:i,className:I(_({variant:t,size:s}),a),disabled:u||c,...o,children:c?n.jsx("span",{className:"animate-spin",children:"â³"}):r}));E.displayName="Button";function O(){const a=R(),{t}=M(),s=()=>{a("/all")};return n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white text-center relative",children:[n.jsx(k,{src:"./logo/elements-rgb-wort-bild.svg"}),n.jsx("p",{className:"max-w-md mt-4 mb-8 px-8",children:t("intro")}),n.jsxs(E,{onClick:s,children:[t("buttons.run"),n.jsx(B,{name:C.RocketLaunch,className:"ml-2 inline-block"})]})]})}function q(){const{i18n:a}=M();return n.jsx("div",{className:"absolute top-5 right-8 text-white font-bold",children:n.jsx("div",{children:n.jsx("select",{value:a.resolvedLanguage,onChange:t=>a.changeLanguage(t.target.value),children:Object.entries(U).map(([t,s])=>n.jsx("option",{value:t,children:s},t))})})})}const Q=()=>n.jsxs(n.Fragment,{children:[n.jsx(S,{style:{position:"absolute"},children:n.jsx(G,{count:1e3})}),n.jsx(O,{}),n.jsx(q,{})]});export{Q as default};
